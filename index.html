<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet"href="https://fonts.googleapis.com/css?family=Poppins">
    
    <title>DooWap</title>
</head>
<body>
    <section class="header"><div class="backhead"></div>
        <h1>DooWap</h1>
    </div>
    <!-- Menu -->
    <section>
        <ul id="myDIV">
            <li><a class="link active" href="../doowap/index.html">Genres</a></li>
            <li><a class="link" href="#">Personality test</a></li>
            <li><a class="link" href="#">Popularity</a></li>
        </ul>
        <script>
            var header = document.getElementById("myDIV");
            var btns = header.getElementsByClassName("link");
            for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener("click", function() {
            var current = document.getElementsByClassName("active");
            current[0].className = current[0].className.replace(" active", "");
            this.className += " active";
        });
    }
    // GENRES//
        </script>
    
    <section class="genres">
        <div>
            
        </div>

    </section>
    
    <script>
        const API_KEY = "cc8a996114ccd712c62e4ea4975135a9";
        getGenres();
        getMoviesByGenre(28);
        function getGenres() {
          fetch(
            `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`
          )
            .then((result) => result.json())
            .then((data) => {
              console.log(data);
            })
            .catch(function (err) {
              alert(err);
            });
        }
        async function getMoviesByGenre(id_genre) {
          let url = `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&with_genres=${id_genre}`;
          fetch(url)
            .then((result) => result.json())
            .then((data) => {
              console.log(data);
              const films = data.results;
              // random
              console.log(films[0]);
            })
            .catch(function (err) {
              alert(err);
            });
        }
      </script>
    <script type="text/javascript" src="js/scriptBASIC.js"></script>
</body>
</html>